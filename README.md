# miniRT

C와 MLX를 사용한 레이트레이싱 렌더링 엔진

## 📋 프로젝트 개요

miniRT는 레이트레이싱 기법을 사용하여 3D 장면을 렌더링하는 프로그램입니다. 수학적 계산을 통해 빛의 경로를 추적하고, 현실적인 조명과 그림자가 있는 3D 이미지를 생성합니다.

## ✨ 주요 기능

### 핵심 기능
- **레이트레이싱** - 광선 추적을 통한 현실적인 렌더링
- **3D 기하학적 도형** - 구(Sphere), 평면(Plane), 원통(Cylinder) 렌더링
- **조명 시스템** - 앰비언트 라이트와 포인트 라이트 구현
- **카메라 시스템** - 시점과 시야각을 통한 3D 장면 관찰
- **실시간 렌더링** - MLX 라이브러리를 통한 실시간 화면 출력

### 렌더링 기능
- **광선-객체 교차** - 수학적 교차점 계산
- **조명 계산** - Phong 조명 모델 구현
- **그림자 처리** - 광원에서 객체까지의 그림자 계산
- **색상 조합** - RGB 색상 시스템
- **앤티앨리어싱** - 부드러운 렌더링

### 지원 객체
- **구(Sphere)** - 중심점과 반지름으로 정의
- **평면(Plane)** - 점과 법선 벡터로 정의
- **원통(Cylinder)** - 축, 반지름, 높이로 정의
- **조명(Light)** - 위치와 밝기로 정의
- **카메라(Camera)** - 위치, 방향, 시야각으로 정의

## 🛠️ 기술적 구현

### 수학적 기반
- **벡터 연산**: 3D 공간에서의 벡터 계산
- **행렬 변환**: 회전, 이동, 스케일링
- **교차 테스트**: 광선과 기하학적 도형의 교차점 계산
- **조명 모델**: 앰비언트, 디퓨즈, 스페큘러 조명

### 프로젝트 구조
```
minirt/
├── include/              # 헤더 파일들
│   ├── minirt.h         # 메인 헤더 파일
│   ├── rt_struct.h      # 구조체 정의
│   ├── rt_vector.h      # 벡터 연산
│   ├── rt_ray.h         # 광선 정의
│   ├── rt_figure.h      # 기하학적 도형
│   ├── rt_scene.h       # 장면 관리
│   ├── rt_component.h   # 컴포넌트 시스템
│   ├── rt_parse.h       # 파일 파싱
│   ├── rt_mlx.h         # MLX 인터페이스
│   ├── rt_utils.h       # 유틸리티 함수
│   └── rt_error.h       # 에러 처리
├── component/           # 장면 구성 요소
│   ├── rt_component.c   # 기본 컴포넌트
│   └── rt_component_light.c # 조명 시스템
├── figure/              # 3D 기하학적 도형
│   ├── rt_figure.c      # 도형 기본 함수
│   ├── rt_figure_sphere.c # 구 렌더링
│   ├── rt_figure_plane.c # 평면 렌더링
│   ├── rt_figure_cylinder.c # 원통 렌더링
│   ├── rt_figure_cylinder_hit.c # 원통 교차 계산
│   └── rt_figure_utils.c # 도형 유틸리티
├── ray/                 # 광선 추적
│   └── rt_ray.c         # 광선 계산
├── scene/               # 장면 관리
│   └── [장면 파일들]
├── parse/               # 파일 파싱
│   └── [파싱 파일들]
├── vector/              # 벡터 연산
│   └── [벡터 계산 파일들]
├── rt_mlx/              # MLX 인터페이스
│   └── [MLX 관련 파일들]
├── utils/               # 유틸리티
│   └── [공통 유틸리티]
├── error/               # 에러 처리
│   └── [에러 처리 파일들]
├── Makefile             # 빌드 설정
└── minirt.c             # 메인 파일
```

## 🚀 설치 및 사용법

### 시스템 요구사항
- C 컴파일러 (gcc, clang)
- Make
- MLX 라이브러리 (MiniLibX)
- X11 라이브러리 (Linux)
- OpenGL 프레임워크 (macOS)

### 빌드
```bash
make
```

### 실행
```bash
./minirt scene.rt
```

### 장면 파일 (.rt) 형식
```
# 앰비언트 라이트
A 0.2 255,255,255

# 카메라
C -50,0,20 0,0,-1 70

# 조명
L -40,0,30 0.7 255,255,255

# 구
sp 0,0,20 20 255,0,0

# 평면
pl 0,0,0 0,1.0,0 255,255,255

# 원통
cy 50.0,0.0,20.6 0,0,1.0 14.2 21.42 10,0,255
```

### 조작법
- **ESC**: 프로그램 종료
- **마우스**: 장면 회전 (구현 시)
- **키보드**: 카메라 이동 (구현 시)

## 🧪 테스트

다양한 장면 테스트:

```bash
# 기본 장면
./minirt scenes/basic.rt

# 복잡한 장면
./minirt scenes/complex.rt

# 조명 테스트
./minirt scenes/lighting.rt

# 원통 테스트
./minirt scenes/cylinder.rt
```

## 📚 학습 성과

- **3D 수학**: 벡터, 행렬, 기하학적 변환
- **컴퓨터 그래픽스**: 레이트레이싱, 조명 모델, 렌더링 파이프라인
- **수치 계산**: 부동소수점 연산, 정밀도 처리
- **알고리즘**: 교차 테스트, 최적화 기법
- **파일 파싱**: 구조화된 데이터 처리
- **메모리 관리**: 대용량 데이터 효율적 처리

## 🎯 42 과제 요구사항

- ✅ 레이트레이싱 구현
- ✅ 구(Sphere) 렌더링
- ✅ 평면(Plane) 렌더링  
- ✅ 원통(Cylinder) 렌더링
- ✅ 앰비언트 라이트
- ✅ 포인트 라이트
- ✅ 카메라 시스템
- ✅ .rt 파일 파싱
- ✅ 실시간 렌더링 (MLX)
- ✅ 에러 처리
- ✅ 메모리 관리
- ✅ Norm 코딩 스타일 준수

## 🎨 렌더링 예시

프로그램으로 생성할 수 있는 장면들:
- 🔵 **기본 장면**: 구와 평면이 있는 단순한 장면
- 🌟 **조명 효과**: 다양한 조명으로 만든 분위기 있는 장면
- 🏛️ **건축적 구조**: 원통과 평면을 조합한 건축물
- 🎭 **복합 객체**: 여러 기하학적 도형을 조합한 복잡한 장면

*"수학으로 빛을 그리는 것, 그것이 레이트레이싱의 매력이다"* ✨
